<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns="http://xmlns.escenic.com/2009/import"
                xmlns:i="http://xmlns.escenic.com/2009/import"
                xmlns:data="http://xmlns.escenic.com/2009/import"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                exclude-result-prefixes="xsi i">

    <xsl:output indent="yes" encoding="UTF-8" version="1.0"/>

  <data:map>
    <data:entry key="2">annetsport</data:entry>
    <data:entry key="41">annetsport</data:entry>
    <data:entry key="101">annetsport</data:entry>
    <data:entry key="261">annetsport</data:entry>
    <data:entry key="241">annetsport</data:entry>
    <data:entry key="43">annetsport</data:entry>
    <data:entry key="44">annetsport</data:entry>
    <data:entry key="104">annetsport</data:entry>
    <data:entry key="321">annetsport</data:entry>
    <data:entry key="322">annetsport</data:entry>
    <data:entry key="42">annetsport</data:entry>
    <data:entry key="262">annetsport</data:entry>
    <data:entry key="103">annetsport</data:entry>
    <data:entry key="46">annetsport</data:entry>
    <data:entry key="264">annetsport</data:entry>
    <data:entry key="105">annetsport</data:entry>
    <data:entry key="45">annetsport</data:entry>
    <data:entry key="263">annetsport</data:entry>
    <data:entry key="102">annetsport</data:entry>
    <data:entry key="682">annetsport</data:entry>
    <data:entry key="683">annetsport</data:entry>
    <data:entry key="581">annetsport</data:entry>
    <data:entry key="702">annetsport</data:entry>
    <data:entry key="703">annetsport</data:entry>
    <data:entry key="701">annetsport</data:entry>
    <data:entry key="684">annetsport</data:entry>
    <data:entry key="685">annetsport</data:entry>
    <data:entry key="704">annetsport</data:entry>
    <data:entry key="1381">100Sport</data:entry>
    <data:entry key="1581">sjakk</data:entry>
    <data:entry key="1601">travoggalopp</data:entry>
    <data:entry key="1562">tourdefrance</data:entry>
    <data:entry key="1501">olympiskeleker</data:entry>
    <data:entry key="1394">skiskyting</data:entry>
    <data:entry key="1395">ishockey</data:entry>
    <data:entry key="1393">handball</data:entry>
    <data:entry key="1392">langrenn</data:entry>
    <data:entry key="1406">svomming</data:entry>
    <data:entry key="1397">friidrett</data:entry>
    <data:entry key="1396">sykkel</data:entry>
    <data:entry key="1410">volleyball</data:entry>
    <data:entry key="1411">basketball</data:entry>
    <data:entry key="1399">alpinsport</data:entry>
    <data:entry key="1409">golfsport</data:entry>
    <data:entry key="1403">kombinertsport</data:entry>
    <data:entry key="1402">snowboard</data:entry>
    <data:entry key="1412">tennis</data:entry>
    <data:entry key="1398">hoppsport</data:entry>
    <data:entry key="1421">idrettspolitikk</data:entry>
    <data:entry key="1400">skoyter</data:entry>
    <data:entry key="1401">rally</data:entry>
    <data:entry key="1407">boksing</data:entry>
    <data:entry key="1461">snowboard</data:entry>
    <data:entry key="1404">annetsport</data:entry>
    <data:entry key="1405">annetsport</data:entry>
    <data:entry key="1408">annetsport</data:entry>
    <data:entry key="1390">annetsport</data:entry>
    <data:entry key="1386">annetsport</data:entry>
    <data:entry key="1387">annetsport</data:entry>
    <data:entry key="1388">annetsport</data:entry>
    <data:entry key="1391">annetsport</data:entry>
    <data:entry key="1389">annetsport</data:entry>
    <data:entry key="1385">annetsport</data:entry>
    <data:entry key="1382">annetsport</data:entry>
    <data:entry key="1383">annetsport</data:entry>
    <data:entry key="1384">annetsport</data:entry>
    <data:entry key="65">fotball_forstediv</data:entry>
    <data:entry key="66">fotball_kvinner</data:entry>
    <data:entry key="67">fotball_england</data:entry>
    <data:entry key="68">europaligaen</data:entry>
    <data:entry key="1081">fotball_blogg</data:entry>
    <data:entry key="1082">fotball_blogg</data:entry>
    <data:entry key="1643">fotball_blogg</data:entry>
    <data:entry key="1085">fotball_blogg</data:entry>
    <data:entry key="1101">fotball_blogg</data:entry>
    <data:entry key="1121">fotball_blogg</data:entry>
    <data:entry key="1161">fotball_blogg</data:entry>
    <data:entry key="1162">fotball_blogg</data:entry>
    <data:entry key="1181">fotball_blogg</data:entry>
    <data:entry key="1182">fotball_blogg</data:entry>
    <data:entry key="1201">fotball_blogg</data:entry>
    <data:entry key="1281">fotball_blogg</data:entry>
    <data:entry key="1282">fotball_blogg</data:entry>
    <data:entry key="1283">fotball_blogg</data:entry>
    <data:entry key="1361">fotball_blogg</data:entry>
    <data:entry key="1413">fotball_blogg</data:entry>
    <data:entry key="1441">fotball_blogg</data:entry>
    <data:entry key="1084">fotball_blogg</data:entry>
    <data:entry key="1481">fotball_blogg</data:entry>
    <data:entry key="1521">fotball_blogg</data:entry>
    <data:entry key="1561">fotball_blogg</data:entry>
    <data:entry key="1641">fotball_blogg</data:entry>
    <data:entry key="1642">fotball_blogg</data:entry>
    <data:entry key="1083">fotball_blogg</data:entry>
    <data:entry key="1541">fotball_blogg</data:entry>
    <data:entry key="1482">fotball_blogg</data:entry>
    <data:entry key="1044">fotball_frankrike</data:entry>
    <data:entry key="1041">fotball_spania</data:entry>
    <data:entry key="1043">fotball_tyskland</data:entry>
    <data:entry key="1042">fotball_italia</data:entry>
    <data:entry key="461">fotball_landslaget</data:entry>
    <data:entry key="64">fotball_eliteserien</data:entry>
    <data:entry key="741">fotball_eliteserien</data:entry>
    <data:entry key="861">fotball_eliteserien</data:entry>
    <data:entry key="744">fotball_eliteserien</data:entry>
    <data:entry key="745">fotball_eliteserien</data:entry>
    <data:entry key="781">fotball_eliteserien</data:entry>
    <data:entry key="801">fotball_eliteserien</data:entry>
    <data:entry key="802">fotball_eliteserien</data:entry>
    <data:entry key="803">fotball_eliteserien</data:entry>
    <data:entry key="821">fotball_eliteserien</data:entry>
    <data:entry key="822">fotball_eliteserien</data:entry>
    <data:entry key="823">fotball_eliteserien</data:entry>
    <data:entry key="824">fotball_eliteserien</data:entry>
    <data:entry key="825">fotball_eliteserien</data:entry>
    <data:entry key="826">fotball_eliteserien</data:entry>
    <data:entry key="743">fotball_eliteserien</data:entry>
    <data:entry key="128">fotball_em</data:entry>
    <data:entry key="121">fotball_cup</data:entry>
    <data:entry key="1142">fotball_vm</data:entry>
    <data:entry key="122">fotball_vm</data:entry>
    <data:entry key="116">mesterligaen</data:entry>
    <data:entry key="124">fotball_nettm√∏te</data:entry>
    <data:entry key="69">fotball_internasjonal</data:entry>
    <data:entry key="1061">fotball_dagenstolver</data:entry>
    <data:entry key="501">fotball_andrediv</data:entry>
    <data:entry key="221">fotball_andrediv</data:entry>
    <data:entry key="130">fotball_andrediv</data:entry>
    <data:entry key="641">fotball_andrediv</data:entry>
    <data:entry key="601">norwaycup</data:entry>
    <data:entry key="621">olympiskeleker</data:entry>
    <data:entry key="623">olympiskeleker</data:entry>
    <data:entry key="622">olympiskeleker</data:entry>
    <data:entry key="123">fotball_kvinner</data:entry>
    <data:entry key="181">annetsport</data:entry>
    <data:entry key="161">annetsport</data:entry>
    <data:entry key="881">annetsport</data:entry>
    <data:entry key="988">annetsport</data:entry>
    <data:entry key="1621">annetsport</data:entry>
    <data:entry key="201">annetsport</data:entry>
    <data:entry key="70">fotball_kommentatorer</data:entry>
    <data:entry key="1086">fotball_kommentatorer</data:entry>
    <data:entry key="1087">fotball_kommentatorer</data:entry>
    <data:entry key="1089">fotball_kommentatorer</data:entry>
    <data:entry key="1090">fotball_kommentatorer</data:entry>
    <data:entry key="1341">fotball_kommentatorer</data:entry>
    <data:entry key="1088">fotball_kommentatorer</data:entry>
    <data:entry key="5">fotball</data:entry>
    <data:entry key="1261">fotball_forsesong</data:entry>
    <data:entry key="126">fotball_forsesong</data:entry>
    <data:entry key="1321">fotball</data:entry>
    <data:entry key="541">annetsport</data:entry>
    <data:entry key="562">annetsport</data:entry>
    <data:entry key="482">fotball_internasjonal</data:entry>
    <data:entry key="131">fotball</data:entry>
    <data:entry key="129">fotball</data:entry>
    <data:entry key="125">100Sport</data:entry>
    <data:entry key="81">annetsport</data:entry>
    <data:entry key="1301">fotball_eliteserien</data:entry>
    <data:entry key="281">fotball</data:entry>
    <data:entry key="942">fotball_landslaget</data:entry>
    <data:entry key="943">fotball</data:entry>
    <data:entry key="944">fotball_em</data:entry>
    <data:entry key="1221">fotball</data:entry>
    <data:entry key="1141">fotball_vm</data:entry>
    <data:entry key="1241">fotball_internasjonal</data:entry>
    <data:entry key="981">fotball_eliteserien</data:entry>
    <data:entry key="1026">fotball_eliteserien</data:entry>
    <data:entry key="1035">fotball_eliteserien</data:entry>
    <data:entry key="1034">fotball_eliteserien</data:entry>
    <data:entry key="987">fotball_eliteserien</data:entry>
    <data:entry key="1022">fotball_eliteserien</data:entry>
    <data:entry key="1021">fotball_eliteserien</data:entry>
    <data:entry key="1023">fotball_eliteserien</data:entry>
    <data:entry key="1024">fotball_eliteserien</data:entry>
    <data:entry key="1025">fotball_eliteserien</data:entry>
    <data:entry key="1036">fotball_eliteserien</data:entry>
    <data:entry key="1027">fotball_eliteserien</data:entry>
    <data:entry key="1028">fotball_eliteserien</data:entry>
    <data:entry key="1029">fotball_eliteserien</data:entry>
    <data:entry key="1030">fotball_eliteserien</data:entry>
    <data:entry key="1031">fotball_eliteserien</data:entry>
    <data:entry key="1032">fotball_eliteserien</data:entry>
    <data:entry key="1033">fotball_eliteserien</data:entry>
    <data:entry key="982">fotball_eliteserien</data:entry>
    <data:entry key="983">fotball_eliteserien</data:entry>
    <data:entry key="984">fotball_eliteserien</data:entry>
  </data:map>

    <xsl:template match="i:section">
        <xsl:copy-of select="current()"/>
    </xsl:template>

    <xsl:template match="i:content">
        <content>
            <xsl:copy-of select="@*"/>
            <xsl:copy-of select="*[not(name()='section')]"/>
            <xsl:for-each select="i:section">
              <section-ref>
                <xsl:variable name="sectionSourceId">
                  <xsl:value-of select='@sourceid'/>
                </xsl:variable>
                <xsl:attribute name="unique-name">
                  <xsl:value-of select="document('')/xsl:stylesheet/data:map/data:entry[@key=$sectionSourceId]"/>
                </xsl:attribute>
                <xsl:if test="@homeSection = 'yes'">
                  <xsl:attribute name="home-section">true</xsl:attribute>
                </xsl:if>
              </section-ref>
            </xsl:for-each>
        </content>
    </xsl:template>

    <xsl:template match="i:frontpage">
        <xsl:copy-of select="current()"/>
    </xsl:template>

    <xsl:template match="i:escenic">
        <escenic version="2.0">
            <xsl:apply-templates/>
        </escenic>
    </xsl:template>

    <xsl:template match="*[namespace-uri() = '']">
        <xsl:element name="{local-name()}" namespace="http://xmlns.escenic.com/2009/import">
            <xsl:copy-of select="@*"/>
            <xsl:apply-templates/>
        </xsl:element>
    </xsl:template>

    <xsl:template match="*">
        <xsl:element name="{local-name()}" namespace="{namespace-uri()}">
            <xsl:copy-of select="@*"/>
            <xsl:apply-templates/>
        </xsl:element>
    </xsl:template>


</xsl:stylesheet>