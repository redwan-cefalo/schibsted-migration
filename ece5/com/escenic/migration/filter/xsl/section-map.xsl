<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns="http://xmlns.escenic.com/2009/import"
                xmlns:i="http://xmlns.escenic.com/2009/import"
                xmlns:data="http://xmlns.escenic.com/2009/import"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                exclude-result-prefixes="xsi i">

    <xsl:output indent="yes" encoding="UTF-8" version="1.0"/>

  <data:map>
    <entry key="2">annetsport</entry>
    <entry key="41">annetsport</entry>
    <entry key="101">annetsport</entry>
    <entry key="261">annetsport</entry>
    <entry key="241">annetsport</entry>
    <entry key="43">annetsport</entry>
    <entry key="44">annetsport</entry>
    <entry key="104">annetsport</entry>
    <entry key="321">annetsport</entry>
    <entry key="322">annetsport</entry>
    <entry key="42">annetsport</entry>
    <entry key="262">annetsport</entry>
    <entry key="103">annetsport</entry>
    <entry key="46">annetsport</entry>
    <entry key="264">annetsport</entry>
    <entry key="105">annetsport</entry>
    <entry key="45">annetsport</entry>
    <entry key="263">annetsport</entry>
    <entry key="102">annetsport</entry>
    <entry key="682">annetsport</entry>
    <entry key="683">annetsport</entry>
    <entry key="581">annetsport</entry>
    <entry key="702">annetsport</entry>
    <entry key="703">annetsport</entry>
    <entry key="701">annetsport</entry>
    <entry key="684">annetsport</entry>
    <entry key="685">annetsport</entry>
    <entry key="704">annetsport</entry>
    <entry key="1381">100Sport</entry>
    <entry key="1581">sjakk</entry>
    <entry key="1601">travoggalopp</entry>
    <entry key="1562">tourdefrance</entry>
    <entry key="1501">olympiskeleker</entry>
    <entry key="1394">skiskyting</entry>
    <entry key="1395">ishockey</entry>
    <entry key="1393">handball</entry>
    <entry key="1392">langrenn</entry>
    <entry key="1406">svomming</entry>
    <entry key="1397">friidrett</entry>
    <entry key="1396">sykkel</entry>
    <entry key="1410">volleyball</entry>
    <entry key="1411">basketball</entry>
    <entry key="1399">alpinsport</entry>
    <entry key="1409">golfsport</entry>
    <entry key="1403">kombinertsport</entry>
    <entry key="1402">snowboard</entry>
    <entry key="1412">tennis</entry>
    <entry key="1398">hoppsport</entry>
    <entry key="1421">idrettspolitikk</entry>
    <entry key="1400">skoyter</entry>
    <entry key="1401">rally</entry>
    <entry key="1407">boksing</entry>
    <entry key="1461">snowboard</entry>
    <entry key="1404">annetsport</entry>
    <entry key="1405">annetsport</entry>
    <entry key="1408">annetsport</entry>
    <entry key="1390">annetsport</entry>
    <entry key="1386">annetsport</entry>
    <entry key="1387">annetsport</entry>
    <entry key="1388">annetsport</entry>
    <entry key="1391">annetsport</entry>
    <entry key="1389">annetsport</entry>
    <entry key="1385">annetsport</entry>
    <entry key="1382">annetsport</entry>
    <entry key="1383">annetsport</entry>
    <entry key="1384">annetsport</entry>
    <entry key="65">fotball_forstediv</entry>
    <entry key="66">fotball_kvinner</entry>
    <entry key="67">fotball_england</entry>
    <entry key="68">europaligaen</entry>
    <entry key="1081">fotball_blogg</entry>
    <entry key="1082">fotball_blogg</entry>
    <entry key="1643">fotball_blogg</entry>
    <entry key="1085">fotball_blogg</entry>
    <entry key="1101">fotball_blogg</entry>
    <entry key="1121">fotball_blogg</entry>
    <entry key="1161">fotball_blogg</entry>
    <entry key="1162">fotball_blogg</entry>
    <entry key="1181">fotball_blogg</entry>
    <entry key="1182">fotball_blogg</entry>
    <entry key="1201">fotball_blogg</entry>
    <entry key="1281">fotball_blogg</entry>
    <entry key="1282">fotball_blogg</entry>
    <entry key="1283">fotball_blogg</entry>
    <entry key="1361">fotball_blogg</entry>
    <entry key="1413">fotball_blogg</entry>
    <entry key="1441">fotball_blogg</entry>
    <entry key="1084">fotball_blogg</entry>
    <entry key="1481">fotball_blogg</entry>
    <entry key="1521">fotball_blogg</entry>
    <entry key="1561">fotball_blogg</entry>
    <entry key="1641">fotball_blogg</entry>
    <entry key="1642">fotball_blogg</entry>
    <entry key="1083">fotball_blogg</entry>
    <entry key="1541">fotball_blogg</entry>
    <entry key="1482">fotball_blogg</entry>
    <entry key="1044">fotball_frankrike</entry>
    <entry key="1041">fotball_spania</entry>
    <entry key="1043">fotball_tyskland</entry>
    <entry key="1042">fotball_italia</entry>
    <entry key="461">fotball_landslaget</entry>
    <entry key="64">fotball_eliteserien</entry>
    <entry key="741">fotball_eliteserien</entry>
    <entry key="861">fotball_eliteserien</entry>
    <entry key="744">fotball_eliteserien</entry>
    <entry key="745">fotball_eliteserien</entry>
    <entry key="781">fotball_eliteserien</entry>
    <entry key="801">fotball_eliteserien</entry>
    <entry key="802">fotball_eliteserien</entry>
    <entry key="803">fotball_eliteserien</entry>
    <entry key="821">fotball_eliteserien</entry>
    <entry key="822">fotball_eliteserien</entry>
    <entry key="823">fotball_eliteserien</entry>
    <entry key="824">fotball_eliteserien</entry>
    <entry key="825">fotball_eliteserien</entry>
    <entry key="826">fotball_eliteserien</entry>
    <entry key="743">fotball_eliteserien</entry>
    <entry key="128">fotball_em</entry>
    <entry key="121">fotball_cup</entry>
    <entry key="1142">fotball_vm</entry>
    <entry key="122">fotball_vm</entry>
    <entry key="116">mesterligaen</entry>
    <entry key="124">fotball_nettm√∏te</entry>
    <entry key="69">fotball_internasjonal</entry>
    <entry key="1061">fotball_dagenstolver</entry>
    <entry key="501">fotball_andrediv</entry>
    <entry key="221">fotball_andrediv</entry>
    <entry key="130">fotball_andrediv</entry>
    <entry key="641">fotball_andrediv</entry>
    <entry key="601">norwaycup</entry>
    <entry key="621">olympiskeleker</entry>
    <entry key="623">olympiskeleker</entry>
    <entry key="622">olympiskeleker</entry>
    <entry key="123">fotball_kvinner</entry>
    <entry key="181">annetsport</entry>
    <entry key="161">annetsport</entry>
    <entry key="881">annetsport</entry>
    <entry key="988">annetsport</entry>
    <entry key="1621">annetsport</entry>
    <entry key="201">annetsport</entry>
    <entry key="70">fotball_kommentatorer</entry>
    <entry key="1086">fotball_kommentatorer</entry>
    <entry key="1087">fotball_kommentatorer</entry>
    <entry key="1089">fotball_kommentatorer</entry>
    <entry key="1090">fotball_kommentatorer</entry>
    <entry key="1341">fotball_kommentatorer</entry>
    <entry key="1088">fotball_kommentatorer</entry>
    <entry key="5">fotball</entry>
    <entry key="1261">fotball_forsesong</entry>
    <entry key="126">fotball_forsesong</entry>
    <entry key="1321">fotball</entry>
    <entry key="541">annetsport</entry>
    <entry key="562">annetsport</entry>
    <entry key="482">fotball_internasjonal</entry>
    <entry key="131">fotball</entry>
    <entry key="129">fotball</entry>
    <entry key="125">100Sport</entry>
    <entry key="81">annetsport</entry>
    <entry key="1301">fotball_eliteserien</entry>
    <entry key="281">fotball</entry>
    <entry key="942">fotball_landslaget</entry>
    <entry key="943">fotball</entry>
    <entry key="944">fotball_em</entry>
    <entry key="1221">fotball</entry>
    <entry key="1141">fotball_vm</entry>
    <entry key="1241">fotball_internasjonal</entry>
    <entry key="981">fotball_eliteserien</entry>
    <entry key="1026">fotball_eliteserien</entry>
    <entry key="1035">fotball_eliteserien</entry>
    <entry key="1034">fotball_eliteserien</entry>
    <entry key="987">fotball_eliteserien</entry>
    <entry key="1022">fotball_eliteserien</entry>
    <entry key="1021">fotball_eliteserien</entry>
    <entry key="1023">fotball_eliteserien</entry>
    <entry key="1024">fotball_eliteserien</entry>
    <entry key="1025">fotball_eliteserien</entry>
    <entry key="1036">fotball_eliteserien</entry>
    <entry key="1027">fotball_eliteserien</entry>
    <entry key="1028">fotball_eliteserien</entry>
    <entry key="1029">fotball_eliteserien</entry>
    <entry key="1030">fotball_eliteserien</entry>
    <entry key="1031">fotball_eliteserien</entry>
    <entry key="1032">fotball_eliteserien</entry>
    <entry key="1033">fotball_eliteserien</entry>
    <entry key="982">fotball_eliteserien</entry>
    <entry key="983">fotball_eliteserien</entry>
    <entry key="984">fotball_eliteserien</entry>
  </data:map>

    <xsl:template match="i:section">
        <xsl:copy-of select="current()"/>
    </xsl:template>

    <xsl:template match="i:content">
      <content>
            <xsl:attribute name="type">
                <xsl:value-of select="@type"/>
            </xsl:attribute>
            <xsl:attribute name="keep-last-modified">
                <xsl:value-of select="@keep-last-modified"/>
            </xsl:attribute>
            <xsl:attribute name="source">
                <xsl:value-of select="@source"/>
            </xsl:attribute>
            <xsl:attribute name="sourceid">
                <xsl:value-of select="@sourceid"/>
            </xsl:attribute>
            <xsl:attribute name="id">
                <xsl:value-of select="@id"/>
            </xsl:attribute>
            <xsl:attribute name="publicationid">
                <xsl:value-of select="@publicationid"/>
            </xsl:attribute>
            <xsl:attribute name="publicationname">
                <xsl:value-of select="@publicationname"/>
            </xsl:attribute>
            <xsl:attribute name="state">
                <xsl:value-of select="@state"/>
            </xsl:attribute>
            <xsl:attribute name="publishdate">
                <xsl:value-of select="@publishdate"/>
            </xsl:attribute>
            <xsl:attribute name="last-modified">
                <xsl:value-of select="@last-modified"/>
            </xsl:attribute>
            <xsl:attribute name="first-published">
                <xsl:value-of select="@first-published"/>
            </xsl:attribute>
            <xsl:attribute name="creationdate">
                <xsl:value-of select="@creationdate"/>
            </xsl:attribute>
            <xsl:attribute name="statechange">
                <xsl:value-of select="@statechange"/>
            </xsl:attribute>
            <xsl:attribute name="uid">
                <xsl:value-of select="@uid"/>
            </xsl:attribute>

            <xsl:copy-of select="i:priority"/>
            <xsl:copy-of select="i:uri"/>

            <xsl:for-each select="i:section">
              <!--<section uniquename="eliteserien" name="Eliteserien" source="escenic-migration" sourceid="64" path="fotball/eliteserien" homeSection="yes" parent.name="frontpage" parent.source="escenic-migration" parent.sourceid="2"></section>-->
              <section-ref>
<!--
                <xsl:variable name="sectionSourceId">
                  <xsl:value-of select='@sourceid'/>
                </xsl:variable>
-->
                <xsl:attribute name="unique-name">
                  <xsl:value-of select="document('')/xsl:stylesheet/data:map/entry[@key='@sourceid']"/>
                </xsl:attribute>
                <xsl:if test="@homeSection = 'yes'">
                  <xsl:attribute name="home-section">
                    true
                  </xsl:attribute>
                </xsl:if>
              </section-ref>
            </xsl:for-each>

            <xsl:copy-of select="i:relation"/>
            <xsl:copy-of select="i:author"/>
            <xsl:copy-of select="i:creator"/>
            <xsl:copy-of select="i:field"/>
        </content>
    </xsl:template>

    <xsl:template match="i:frontpage">
        <xsl:copy-of select="current()"/>
    </xsl:template>

    <xsl:template match="i:escenic">
        <escenic version="2.0">
            <xsl:apply-templates/>
        </escenic>
    </xsl:template>

    <xsl:template match="*[namespace-uri() = '']">
        <xsl:element name="{local-name()}" namespace="http://xmlns.escenic.com/2009/import">
            <xsl:copy-of select="@*"/>
            <xsl:apply-templates/>
        </xsl:element>
    </xsl:template>

    <xsl:template match="*">
        <xsl:element name="{local-name()}" namespace="{namespace-uri()}">
            <xsl:copy-of select="@*"/>
            <xsl:apply-templates/>
        </xsl:element>
    </xsl:template>


</xsl:stylesheet>